2021-04-11 19:04:35.821 +03:00 [WRN] Start logger
2021-04-11 19:07:07.741 +03:00 [WRN] Start logger
2021-04-11 19:17:11.945 +03:00 [WRN] Start logger
2021-04-11 19:22:51.792 +03:00 [WRN] Start logger
2021-04-11 19:23:26.270 +03:00 [WRN] Start logger
2021-04-11 19:25:43.947 +03:00 [WRN] Start logger
2021-04-11 19:29:06.242 +03:00 [WRN] Start logger
2021-04-11 19:41:56.561 +03:00 [WRN] Start logger
2021-04-12 21:29:17.678 +03:00 [WRN] Start logger
2021-04-12 21:29:20.284 +03:00 [INF] Rabbit MQ is trying to connect
2021-04-12 21:29:21.771 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-04-12 21:29:22.779 +03:00 [INF] Now listening on: http://[::]:80
2021-04-12 21:29:22.781 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-12 21:29:22.781 +03:00 [INF] Hosting environment: Development
2021-04-12 21:29:22.782 +03:00 [INF] Content root path: C:\app
2021-04-12 21:29:35.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/weatherforecast/evt  
2021-04-12 21:29:35.742 +03:00 [WRN] Failed to determine the https port for redirect.
2021-04-12 21:29:35.770 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api)'
2021-04-12 21:29:35.869 +03:00 [INF] Route matched with {action = "PostTestEvent", controller = "WeatherForecast"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] PostTestEvent() on controller SpareParts.Api.Controllers.WeatherForecastController (SpareParts.Api).
2021-04-12 21:29:35.872 +03:00 [WRN] BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
2021-04-12 21:29:37.217 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-04-12 21:29:37.239 +03:00 [INF] Executed action SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api) in 1365.8232ms
2021-04-12 21:29:37.242 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api)'
2021-04-12 21:29:37.248 +03:00 [INF] Request finished in 1516.5ms 200 text/plain; charset=utf-8
2021-04-12 21:29:37.286 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon.ico  
2021-04-12 21:29:37.287 +03:00 [INF] Request finished in 0.9366ms 404 
2021-04-12 21:31:48.758 +03:00 [WRN] Start logger
2021-04-12 21:31:50.435 +03:00 [INF] Rabbit MQ is trying to connect
2021-04-12 21:31:50.602 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-04-12 21:31:50.808 +03:00 [INF] Now listening on: http://[::]:80
2021-04-12 21:31:50.810 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-12 21:31:50.811 +03:00 [INF] Hosting environment: Development
2021-04-12 21:31:50.812 +03:00 [INF] Content root path: C:\app
2021-04-14 09:34:12.546 +03:00 [WRN] Start logger
2021-04-14 09:34:18.986 +03:00 [INF] Rabbit MQ is trying to connect
2021-04-14 09:34:45.757 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 79
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-04-14 09:35:07.608 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-04-14 09:35:08.309 +03:00 [INF] Now listening on: http://[::]:80
2021-04-14 09:35:08.311 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-14 09:35:08.312 +03:00 [INF] Hosting environment: Development
2021-04-14 09:35:08.312 +03:00 [INF] Content root path: C:\app
2021-04-14 09:35:10.324 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/weatherforecast/evt  
2021-04-14 09:35:10.332 +03:00 [WRN] Failed to determine the https port for redirect.
2021-04-14 09:35:10.360 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api)'
2021-04-14 09:35:10.416 +03:00 [INF] Route matched with {action = "PostTestEvent", controller = "WeatherForecast"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] PostTestEvent() on controller SpareParts.Api.Controllers.WeatherForecastController (SpareParts.Api).
2021-04-14 09:35:10.419 +03:00 [WRN] BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
2021-04-14 09:35:11.448 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-04-14 09:35:11.467 +03:00 [INF] Executed action SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api) in 1046.9432ms
2021-04-14 09:35:11.470 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api)'
2021-04-14 09:35:11.475 +03:00 [INF] Request finished in 1153.5253ms 200 text/plain; charset=utf-8
2021-04-14 09:35:11.505 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon.ico  
2021-04-14 09:35:11.506 +03:00 [INF] Request finished in 1.4709ms 404 
2021-04-17 16:49:10.635 +03:00 [WRN] Start logger
2021-04-17 16:49:17.865 +03:00 [INF] Rabbit MQ is trying to connect
2021-04-17 16:49:18.572 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-04-17 16:49:19.553 +03:00 [INF] Now listening on: http://[::]:80
2021-04-17 16:49:19.558 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-04-17 16:49:19.559 +03:00 [INF] Hosting environment: Development
2021-04-17 16:49:19.559 +03:00 [INF] Content root path: C:\app
2021-04-17 16:49:50.471 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/weatherforecast/evt  
2021-04-17 16:49:50.484 +03:00 [WRN] Failed to determine the https port for redirect.
2021-04-17 16:49:50.512 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api)'
2021-04-17 16:49:50.556 +03:00 [INF] Route matched with {action = "PostTestEvent", controller = "WeatherForecast"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] PostTestEvent() on controller SpareParts.Api.Controllers.WeatherForecastController (SpareParts.Api).
2021-04-17 16:49:50.559 +03:00 [WRN] BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
2021-04-17 16:49:52.032 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-04-17 16:49:52.067 +03:00 [INF] Executed action SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api) in 1495.0865ms
2021-04-17 16:49:52.071 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.WeatherForecastController.PostTestEvent (SpareParts.Api)'
2021-04-17 16:49:52.078 +03:00 [INF] Request finished in 1609.8229ms 200 text/plain; charset=utf-8
2021-04-17 16:49:52.120 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon.ico  
2021-04-17 16:49:52.121 +03:00 [INF] Request finished in 1.0527ms 404 
2021-05-16 13:27:27.231 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 13:27:33.363 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 13:28:14.634 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-16 13:28:35.434 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 13:28:36.849 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 13:28:36.852 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 13:28:36.853 +03:00 [INF] Hosting environment: Development
2021-05-16 13:28:36.853 +03:00 [INF] Content root path: C:\app
2021-05-16 14:54:26.787 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 14:54:34.762 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 14:54:35.068 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 14:54:35.341 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 14:54:35.342 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 14:54:35.342 +03:00 [INF] Hosting environment: Development
2021-05-16 14:54:35.343 +03:00 [INF] Content root path: C:\app
2021-05-16 15:03:57.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/  
2021-05-16 15:03:57.443 +03:00 [INF] Request finished in 122.968ms 301 
2021-05-16 15:03:57.472 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 15:03:57.667 +03:00 [INF] Request finished in 195.1704ms 200 text/html;charset=utf-8
2021-05-16 15:03:57.685 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-bundle.js  
2021-05-16 15:03:57.685 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-standalone-preset.js  
2021-05-16 15:03:57.685 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui.css  
2021-05-16 15:03:57.925 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-05-16 15:03:57.925 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-05-16 15:03:57.928 +03:00 [INF] Request finished in 242.8386ms 200 text/css
2021-05-16 15:03:57.928 +03:00 [INF] Request finished in 242.9936ms 200 application/javascript
2021-05-16 15:03:57.953 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-05-16 15:03:57.954 +03:00 [INF] Request finished in 268.527ms 200 application/javascript
2021-05-16 15:03:58.077 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 15:03:58.116 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 15:03:58.151 +03:00 [INF] Request finished in 73.3578ms 404 
2021-05-16 15:03:58.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-16 15:03:58.167 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-16 15:03:58.167 +03:00 [INF] Request finished in 1.0136ms 200 image/png
2021-05-16 15:09:10.845 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 15:09:12.608 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 15:09:12.831 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 15:09:13.117 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 15:09:13.118 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 15:09:13.118 +03:00 [INF] Hosting environment: Development
2021-05-16 15:09:13.119 +03:00 [INF] Content root path: C:\app
2021-05-16 15:09:26.306 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 15:09:26.355 +03:00 [INF] Request finished in 51.468ms 200 text/html;charset=utf-8
2021-05-16 15:09:26.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/v1/swagger.json  
2021-05-16 15:09:26.574 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 15:09:26.602 +03:00 [INF] Request finished in 42.305ms 404 
2021-05-16 15:10:50.983 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 15:10:53.025 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 15:10:53.231 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 15:10:53.383 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 15:10:53.385 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 15:10:53.386 +03:00 [INF] Hosting environment: Development
2021-05-16 15:10:53.387 +03:00 [INF] Content root path: C:\app
2021-05-16 15:11:00.913 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 15:11:01.032 +03:00 [INF] Request finished in 120.2303ms 200 text/html;charset=utf-8
2021-05-16 15:11:01.186 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/v1/swagger.json  
2021-05-16 15:11:01.199 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 15:11:01.223 +03:00 [INF] Request finished in 37.0234ms 404 
2021-05-16 15:11:28.228 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 15:11:29.991 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 15:11:30.181 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 15:11:30.393 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 15:11:30.396 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 15:11:30.396 +03:00 [INF] Hosting environment: Development
2021-05-16 15:11:30.397 +03:00 [INF] Content root path: C:\app
2021-05-16 15:11:45.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 15:11:45.172 +03:00 [INF] Request finished in 109.0545ms 200 text/html;charset=utf-8
2021-05-16 15:11:45.321 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 15:11:45.722 +03:00 [INF] Request finished in 401.3572ms 200 application/json;charset=utf-8
2021-05-16 15:12:54.704 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 15:12:54.716 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 15:12:54.752 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 15:12:54.757 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 15:12:55.023 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 15:13:06.942 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 15:13:07.113 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 12085.9117ms
2021-05-16 15:13:07.117 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 15:13:07.134 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand,System.String]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'MongoDB.Driver.IClientSessionHandle clientSessionHandle' of constructor 'Void .ctor(SpareParts.Application.Interfaces.ISparePartsDbContext, Serilog.ILogger, MongoDB.Driver.IClientSessionHandle, SpareParts.Application.IntegrationEvents.Services.ISparePartsIntegrationEventService)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetAllBindings(ConstructorBinder[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-16 15:13:07.549 +03:00 [INF] Request finished in 12844.9633ms 500 text/plain
2021-05-16 16:40:51.884 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 16:40:59.368 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 16:40:59.869 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 16:41:00.029 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 16:41:00.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 16:41:00.031 +03:00 [INF] Hosting environment: Development
2021-05-16 16:41:00.032 +03:00 [INF] Content root path: C:\app
2021-05-16 16:41:24.197 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 16:41:24.295 +03:00 [INF] Request finished in 100.1626ms 200 text/html;charset=utf-8
2021-05-16 16:41:24.414 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 16:41:24.501 +03:00 [INF] Request finished in 87.2757ms 200 application/json;charset=utf-8
2021-05-16 16:41:46.704 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 16:41:46.712 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 16:41:46.735 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 16:41:46.741 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 16:41:46.779 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 16:41:50.575 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 16:41:50.639 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 3855.6781ms
2021-05-16 16:41:50.642 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 16:41:50.643 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand,System.String]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'MongoDB.Driver.IClientSessionHandle clientSessionHandle' of constructor 'Void .ctor(SpareParts.Application.Interfaces.ISparePartsDbContext, Serilog.ILogger, MongoDB.Driver.IClientSessionHandle, SpareParts.Application.IntegrationEvents.Services.ISparePartsIntegrationEventService)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetAllBindings(ConstructorBinder[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-16 16:41:50.744 +03:00 [INF] Request finished in 4040.3757ms 500 text/plain
2021-05-16 16:52:34.910 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 16:52:36.724 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 16:52:36.911 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 16:52:37.037 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 16:52:37.042 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 16:52:37.042 +03:00 [INF] Hosting environment: Development
2021-05-16 16:52:37.042 +03:00 [INF] Content root path: C:\app
2021-05-16 16:53:22.338 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 16:53:22.414 +03:00 [INF] Request finished in 79.3664ms 200 text/html;charset=utf-8
2021-05-16 16:53:22.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 16:53:22.638 +03:00 [INF] Request finished in 84.5592ms 200 application/json;charset=utf-8
2021-05-16 16:53:37.371 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 16:53:37.385 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 16:53:37.415 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 16:53:37.421 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 16:53:37.460 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 16:53:39.800 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 16:53:39.868 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 2403.5723ms
2021-05-16 16:53:39.871 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 16:53:39.872 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand,System.String]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler' can be invoked with the available services and parameters:
Cannot resolve parameter 'MongoDB.Driver.IClientSessionHandle clientSessionHandle' of constructor 'Void .ctor(SpareParts.Application.Interfaces.ISparePartsDbContext, Serilog.ILogger, MongoDB.Driver.IClientSessionHandle, SpareParts.Application.IntegrationEvents.Services.ISparePartsIntegrationEventService)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetAllBindings(ConstructorBinder[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-16 16:53:39.956 +03:00 [INF] Request finished in 2585.6726ms 500 text/plain
2021-05-16 16:54:31.140 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 16:54:32.959 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 16:54:33.123 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 16:54:33.257 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 16:54:33.259 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 16:54:33.259 +03:00 [INF] Hosting environment: Development
2021-05-16 16:54:33.259 +03:00 [INF] Content root path: C:\app
2021-05-16 16:54:33.718 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 16:54:33.784 +03:00 [INF] Request finished in 68.3724ms 200 text/html;charset=utf-8
2021-05-16 16:54:33.940 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 16:54:34.018 +03:00 [INF] Request finished in 78.0806ms 200 application/json;charset=utf-8
2021-05-16 16:55:18.886 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 16:55:18.892 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 16:55:18.917 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 16:55:18.921 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 16:55:18.955 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 16:55:21.055 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 17:14:07.949 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 17:14:09.927 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 17:14:10.121 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 17:14:10.302 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 17:14:10.304 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 17:14:10.305 +03:00 [INF] Hosting environment: Development
2021-05-16 17:14:10.305 +03:00 [INF] Content root path: C:\app
2021-05-16 17:14:17.965 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 17:14:18.003 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 17:14:18.027 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 17:14:18.032 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 17:14:18.069 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 17:14:18.124 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 17:15:48.219 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 17:15:48.222 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 17:15:48.223 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 17:15:48.223 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 17:15:48.226 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 17:16:19.851 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 90210.777ms
2021-05-16 17:16:19.854 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 17:16:19.856 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand,System.String]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler -> λ:SpareParts.Application.Interfaces.ISparePartsDbContext.
 ---> System.TimeoutException: A timeout occurred after 30000ms selecting a server using CompositeServerSelector{ Selectors = MongoDB.Driver.MongoClient+AreSessionsSupportedServerSelector, LatencyLimitingServerSelector{ AllowedLatencyRange = 00:00:00.0150000 } }. Client view of cluster state is { ClusterId : "1", Type : "Unknown", State : "Disconnected", Servers : [{ ServerId: "{ ClusterId : 1, EndPoint : "Unspecified/localhost:27017" }", EndPoint: "Unspecified/localhost:27017", ReasonChanged: "Heartbeat", State: "Disconnected", ServerVersion: , TopologyVersion: , Type: "Unknown", HeartbeatException: "MongoDB.Driver.MongoConnectionException: An exception occurred while opening a connection to the server.
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10061): No connection could be made because the target machine actively refused it. [::1]:27017
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at MongoDB.Driver.Core.Connections.TcpStreamFactory.ConnectAsync(Socket socket, EndPoint endPoint, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.TcpStreamFactory.CreateStreamAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.ServerMonitor.InitializeConnectionAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.ServerMonitor.HeartbeatAsync(CancellationToken cancellationToken)", LastHeartbeatTimestamp: "2021-05-16T14:14:45.5617047Z", LastUpdateTimestamp: "2021-05-16T14:14:45.5617077Z" }] }.
   at MongoDB.Driver.Core.Clusters.Cluster.ThrowTimeoutException(IServerSelector selector, ClusterDescription description)
   at MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChangedHelper.HandleCompletedTask(Task completedTask)
   at MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChanged(IServerSelector selector, ClusterDescription description, Task descriptionChangedTask, TimeSpan timeout, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Clusters.Cluster.SelectServer(IServerSelector selector, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.AreSessionsSupportedAfterServerSelection(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.AreSessionsSupported(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.StartImplicitSession(CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.StartImplicitSession(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSession[TResult](Func`2 func, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.MongoIndexManager.CreateMany(IEnumerable`1 models, CreateManyIndexesOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoIndexManagerBase`1.CreateOne(CreateIndexModel`1 model, CreateOneIndexOptions options, CancellationToken cancellationToken)
   at SpareParts.Persistence.SparePartsContext.SparePartsDbContext.ConfigureVehiclesCollection() in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\SparePartsContext\SparePartsDbContext.cs:line 57
   at SpareParts.Persistence.SparePartsContext.SparePartsDbContext..ctor(String connectionString) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\SparePartsContext\SparePartsDbContext.cs:line 22
   at SpareParts.Persistence.DependencyInjection.<>c__DisplayClass0_0.<AddPersistance>b__0(IServiceProvider provider) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\DependencyInjection.cs:line 17
   at Autofac.Extensions.DependencyInjection.AutofacRegistration.<>c__DisplayClass3_0.<Register>b__0(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-16 17:16:19.932 +03:00 [INF] Request finished in 121969.3458ms 500 text/plain
2021-05-16 17:25:45.896 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 17:25:47.927 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 17:25:48.091 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 17:25:48.231 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 17:25:48.233 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 17:25:48.234 +03:00 [INF] Hosting environment: Development
2021-05-16 17:25:48.234 +03:00 [INF] Content root path: C:\app
2021-05-16 17:25:59.084 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 17:25:59.115 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 17:25:59.137 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 17:25:59.163 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 17:25:59.201 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 17:25:59.249 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 17:28:00.459 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 17:28:02.075 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 17:28:02.285 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 17:28:02.434 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 17:28:02.437 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 17:28:02.438 +03:00 [INF] Hosting environment: Development
2021-05-16 17:28:02.439 +03:00 [INF] Content root path: C:\app
2021-05-16 17:28:13.716 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 17:28:13.797 +03:00 [INF] Request finished in 83.5299ms 200 text/html;charset=utf-8
2021-05-16 17:28:13.934 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 17:28:14.010 +03:00 [INF] Request finished in 75.1512ms 200 application/json;charset=utf-8
2021-05-16 17:28:21.665 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 17:28:21.674 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 17:28:21.701 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 17:28:21.711 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 17:28:21.746 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 17:28:21.785 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 17:50:22.894 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 17:50:26.558 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 17:50:37.968 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-16 17:50:58.175 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 17:50:58.619 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 17:50:58.621 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 17:50:58.621 +03:00 [INF] Hosting environment: Development
2021-05-16 17:50:58.621 +03:00 [INF] Content root path: C:\app
2021-05-16 17:50:59.651 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 17:50:59.732 +03:00 [INF] Request finished in 84.1946ms 200 text/html;charset=utf-8
2021-05-16 17:50:59.920 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-16 17:50:59.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 17:50:59.950 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-16 17:50:59.951 +03:00 [INF] Request finished in 31.1378ms 200 image/png
2021-05-16 17:51:00.027 +03:00 [INF] Request finished in 97.0318ms 200 application/json;charset=utf-8
2021-05-16 17:51:28.076 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 17:51:28.083 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 17:51:28.109 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 17:51:28.115 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 17:51:28.166 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 17:51:28.202 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 20:02:26.396 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 20:02:28.817 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 20:02:29.067 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 20:02:29.666 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 20:02:29.669 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 20:02:29.669 +03:00 [INF] Hosting environment: Development
2021-05-16 20:02:29.670 +03:00 [INF] Content root path: C:\app
2021-05-16 20:02:50.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 20:02:51.074 +03:00 [INF] Request finished in 109.0389ms 200 text/html;charset=utf-8
2021-05-16 20:02:51.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 20:02:51.373 +03:00 [INF] Request finished in 84.4886ms 200 application/json;charset=utf-8
2021-05-16 20:02:59.749 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 20:02:59.756 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 20:02:59.780 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 20:02:59.785 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 20:02:59.821 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 20:02:59.858 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 20:03:55.085 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 55259.9091ms
2021-05-16 20:03:55.088 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 20:03:55.091 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand,System.String]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler -> λ:SpareParts.Application.Interfaces.ISparePartsDbContext.
 ---> System.TimeoutException: A timeout occurred after 30000ms selecting a server using CompositeServerSelector{ Selectors = MongoDB.Driver.MongoClient+AreSessionsSupportedServerSelector, LatencyLimitingServerSelector{ AllowedLatencyRange = 00:00:00.0150000 } }. Client view of cluster state is { ClusterId : "1", Type : "Unknown", State : "Disconnected", Servers : [{ ServerId: "{ ClusterId : 1, EndPoint : "Unspecified/host.docker.internal:27017" }", EndPoint: "Unspecified/host.docker.internal:27017", ReasonChanged: "Heartbeat", State: "Disconnected", ServerVersion: , TopologyVersion: , Type: "Unknown", HeartbeatException: "MongoDB.Driver.MongoConnectionException: An exception occurred while opening a connection to the server.
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. 192.168.31.220:27017
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at MongoDB.Driver.Core.Connections.TcpStreamFactory.ConnectAsync(Socket socket, EndPoint endPoint, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.TcpStreamFactory.CreateStreamAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.ServerMonitor.InitializeConnectionAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.ServerMonitor.HeartbeatAsync(CancellationToken cancellationToken)", LastHeartbeatTimestamp: "2021-05-16T17:03:23.5831769Z", LastUpdateTimestamp: "2021-05-16T17:03:23.5831772Z" }] }.
   at MongoDB.Driver.Core.Clusters.Cluster.ThrowTimeoutException(IServerSelector selector, ClusterDescription description)
   at MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChangedHelper.HandleCompletedTask(Task completedTask)
   at MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChanged(IServerSelector selector, ClusterDescription description, Task descriptionChangedTask, TimeSpan timeout, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Clusters.Cluster.SelectServer(IServerSelector selector, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.AreSessionsSupportedAfterServerSelection(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.AreSessionsSupported(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.StartImplicitSession(CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.StartImplicitSession(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSession[TResult](Func`2 func, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.MongoIndexManager.CreateMany(IEnumerable`1 models, CreateManyIndexesOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoIndexManagerBase`1.CreateOne(CreateIndexModel`1 model, CreateOneIndexOptions options, CancellationToken cancellationToken)
   at SpareParts.Persistence.SparePartsContext.SparePartsDbContext.ConfigureVehiclesCollection() in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\SparePartsContext\SparePartsDbContext.cs:line 58
   at SpareParts.Persistence.SparePartsContext.SparePartsDbContext..ctor(String connectionString) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\SparePartsContext\SparePartsDbContext.cs:line 22
   at SpareParts.Persistence.DependencyInjection.<>c__DisplayClass0_0.<AddPersistance>b__0(IServiceProvider provider) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\DependencyInjection.cs:line 17
   at Autofac.Extensions.DependencyInjection.AutofacRegistration.<>c__DisplayClass3_0.<Register>b__0(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Delegate.DelegateActivator.<ConfigurePipeline>b__2_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-16 20:03:55.169 +03:00 [INF] Request finished in 55421.1264ms 500 text/plain
2021-05-16 20:03:57.466 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 20:03:57.468 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 20:03:57.469 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 20:03:57.469 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 20:03:57.471 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 20:04:38.609 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 20:04:40.263 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 20:04:40.455 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 20:04:40.639 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 20:04:40.641 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 20:04:40.642 +03:00 [INF] Hosting environment: Development
2021-05-16 20:04:40.642 +03:00 [INF] Content root path: C:\app
2021-05-16 20:04:52.892 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-16 20:04:52.959 +03:00 [INF] Request finished in 68.8349ms 200 text/html;charset=utf-8
2021-05-16 20:04:53.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-16 20:04:53.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-16 20:04:53.218 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-16 20:04:53.218 +03:00 [INF] Request finished in 40.8346ms 200 image/png
2021-05-16 20:04:53.287 +03:00 [INF] Request finished in 107.6431ms 200 application/json;charset=utf-8
2021-05-16 20:05:03.540 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 20:05:03.546 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 20:05:03.577 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 20:05:03.582 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 20:05:03.616 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 20:05:03.650 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 20:07:36.477 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 20:07:38.389 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 20:07:38.782 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 20:07:38.950 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 20:07:38.953 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 20:07:38.954 +03:00 [INF] Hosting environment: Development
2021-05-16 20:07:38.955 +03:00 [INF] Content root path: C:\app
2021-05-16 20:07:53.896 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 20:07:53.926 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 20:07:53.946 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 20:07:53.952 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 20:07:53.985 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 20:07:54.033 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 20:12:26.085 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 20:12:27.675 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 20:12:27.839 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 20:12:28.001 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 20:12:28.002 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 20:12:28.003 +03:00 [INF] Hosting environment: Development
2021-05-16 20:12:28.003 +03:00 [INF] Content root path: C:\app
2021-05-16 20:12:49.409 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 20:12:49.445 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 20:12:49.467 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 20:12:49.471 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 20:12:49.507 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 20:12:49.553 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-16 20:13:57.928 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-16 20:13:59.730 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-16 20:13:59.986 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-16 20:14:00.221 +03:00 [INF] Now listening on: http://[::]:80
2021-05-16 20:14:00.223 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-16 20:14:00.224 +03:00 [INF] Hosting environment: Development
2021-05-16 20:14:00.225 +03:00 [INF] Content root path: C:\app
2021-05-16 20:14:05.833 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-16 20:14:05.863 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-16 20:14:05.884 +03:00 [INF] No CORS policy found for the specified request.
2021-05-16 20:14:05.888 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-16 20:14:05.922 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-16 20:14:05.968 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-21 21:36:30.405 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-21 21:36:38.760 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-21 21:38:29.263 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-21 21:38:50.329 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-21 21:38:51.061 +03:00 [INF] Now listening on: http://[::]:80
2021-05-21 21:38:51.063 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-21 21:38:51.063 +03:00 [INF] Hosting environment: Development
2021-05-21 21:38:51.064 +03:00 [INF] Content root path: C:\app
2021-05-21 21:38:55.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-21 21:38:55.892 +03:00 [INF] Request finished in 307.9949ms 200 text/html;charset=utf-8
2021-05-21 21:38:55.946 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-standalone-preset.js  
2021-05-21 21:38:55.946 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-bundle.js  
2021-05-21 21:38:55.983 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui.css  
2021-05-21 21:38:56.080 +03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-05-21 21:38:56.080 +03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-05-21 21:38:56.080 +03:00 [INF] The file /swagger-ui.css was not modified
2021-05-21 21:38:56.082 +03:00 [INF] Request finished in 98.4962ms 304 text/css
2021-05-21 21:38:56.082 +03:00 [INF] Request finished in 135.7853ms 304 application/javascript
2021-05-21 21:38:56.082 +03:00 [INF] Request finished in 135.6928ms 304 application/javascript
2021-05-21 21:38:56.374 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-21 21:38:56.456 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-21 21:38:56.466 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-21 21:38:56.467 +03:00 [INF] Request finished in 10.6275ms 200 image/png
2021-05-21 21:38:56.498 +03:00 [INF] Request finished in 124.4739ms 200 application/json;charset=utf-8
2021-05-21 21:39:04.581 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-21 21:39:04.587 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-21 21:39:04.613 +03:00 [INF] No CORS policy found for the specified request.
2021-05-21 21:39:04.615 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-21 21:39:04.697 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-21 21:39:04.742 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 13:02:18.892 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 13:02:27.122 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 13:02:43.504 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-22 13:03:04.441 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 13:03:05.379 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 13:03:05.381 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 13:03:05.382 +03:00 [INF] Hosting environment: Development
2021-05-22 13:03:05.382 +03:00 [INF] Content root path: C:\app
2021-05-22 13:03:27.568 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-22 13:03:28.192 +03:00 [INF] Request finished in 626.6986ms 200 text/html;charset=utf-8
2021-05-22 13:03:28.635 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-22 13:03:28.754 +03:00 [INF] Request finished in 119.0563ms 200 application/json;charset=utf-8
2021-05-22 13:03:33.483 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 13:03:33.492 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 13:03:33.519 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 13:03:33.526 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 13:03:33.600 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 13:03:33.908 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 13:07:11.115 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 13:07:12.634 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 13:07:13.022 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 13:07:13.155 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 13:07:13.156 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 13:07:13.157 +03:00 [INF] Hosting environment: Development
2021-05-22 13:07:13.157 +03:00 [INF] Content root path: C:\app
2021-05-22 13:07:33.739 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 13:07:33.776 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 13:07:33.798 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 13:07:33.804 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 13:07:33.838 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 13:07:33.886 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 19:53:39.472 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 19:53:47.077 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 19:53:47.749 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 19:53:48.919 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 19:53:48.921 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 19:53:48.921 +03:00 [INF] Hosting environment: Development
2021-05-22 19:53:48.922 +03:00 [INF] Content root path: C:\app
2021-05-22 19:55:12.396 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 19:55:12.479 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 19:55:12.502 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 19:55:12.508 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 19:55:12.583 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 19:55:12.720 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 19:55:41.250 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 19:55:42.717 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 19:55:42.848 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 19:55:42.966 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 19:55:42.968 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 19:55:42.968 +03:00 [INF] Hosting environment: Development
2021-05-22 19:55:42.968 +03:00 [INF] Content root path: C:\app
2021-05-22 19:55:57.587 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 19:55:57.620 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 19:55:57.641 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 19:55:57.646 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 19:55:57.679 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 19:55:57.725 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 20:04:12.573 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:04:14.143 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:04:14.333 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:04:14.495 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:04:14.497 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:04:14.497 +03:00 [INF] Hosting environment: Development
2021-05-22 20:04:14.497 +03:00 [INF] Content root path: C:\app
2021-05-22 20:04:44.862 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-22 20:04:44.986 +03:00 [INF] Request finished in 126.1058ms 200 text/html;charset=utf-8
2021-05-22 20:04:45.303 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-22 20:04:45.331 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-22 20:04:45.413 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-22 20:04:45.414 +03:00 [INF] Request finished in 111.3822ms 200 image/png
2021-05-22 20:04:45.448 +03:00 [INF] Request finished in 116.8001ms 200 application/json;charset=utf-8
2021-05-22 20:04:49.544 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:04:49.550 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:04:49.578 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:04:49.585 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:04:49.625 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:04:49.664 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 20:04:53.808 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 4178.9173ms
2021-05-22 20:04:53.811 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:04:53.812 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand,System.String]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler -> SpareParts.Application.IntegrationEvents.Services.SparePartsIntegrationEventService.
 ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'SpareParts.Application.IntegrationEvents.Services.SparePartsIntegrationEventService' can be invoked with the available services and parameters:
Cannot resolve parameter 'MongoDB.Driver.IClientSessionHandle clientSessionHandle' of constructor 'Void .ctor(EventBus.Abstractions.IEventBus, SpareParts.Application.Interfaces.ISparePartsDbContext, MongoDB.Driver.IClientSessionHandle, Serilog.ILogger)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetAllBindings(ConstructorBinder[] availableConstructors, IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-22 20:04:54.063 +03:00 [INF] Request finished in 4519.7266ms 500 text/plain
2021-05-22 20:23:01.518 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:23:03.056 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:23:03.217 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:23:03.439 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:23:03.444 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:23:03.445 +03:00 [INF] Hosting environment: Development
2021-05-22 20:23:03.446 +03:00 [INF] Content root path: C:\app
2021-05-22 20:23:25.692 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:23:25.731 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:23:25.754 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:23:25.760 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:23:25.795 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:23:25.843 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 20:24:05.947 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 40148.2595ms
2021-05-22 20:24:05.950 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:24:05.953 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Standalone servers do not support transactions.
   at MongoDB.Driver.Core.Bindings.CoreSession.EnsureTransactionsAreSupported()
   at MongoDB.Driver.Core.Bindings.CoreSession.EnsureStartTransactionCanBeCalled()
   at MongoDB.Driver.Core.Bindings.CoreSession.StartTransaction(TransactionOptions transactionOptions)
   at MongoDB.Driver.Core.Bindings.WrappingCoreSession.StartTransaction(TransactionOptions transactionOptions)
   at MongoDB.Driver.Core.Bindings.WrappingCoreSession.StartTransaction(TransactionOptions transactionOptions)
   at MongoDB.Driver.ClientSessionHandle.StartTransaction(TransactionOptions transactionOptions)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 60
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-22 20:24:06.054 +03:00 [INF] Request finished in 40365.1095ms 500 text/plain
2021-05-22 20:24:47.395 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:24:48.951 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:24:49.113 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:24:49.240 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:24:49.241 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:24:49.242 +03:00 [INF] Hosting environment: Development
2021-05-22 20:24:49.242 +03:00 [INF] Content root path: C:\app
2021-05-22 20:25:00.802 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:25:00.835 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:25:00.859 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:25:00.864 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:25:00.899 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:25:00.949 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 20:25:06.724 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60a93e71bc3f2e6b3457aa8a"), "ManufacturerName" : "string", "Model" : "string", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "EndProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("000000000000000000000000"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: CommitTransaction cannot be called when no transaction started.
2021-05-22 20:25:06.731 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-22 20:25:06.741 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 5835.4497ms
2021-05-22 20:25:06.745 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:25:06.767 +03:00 [INF] Request finished in 5968.1342ms 400 text/plain; charset=utf-8
2021-05-22 20:25:44.661 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:25:46.303 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:25:46.426 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:25:46.553 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:25:46.555 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:25:46.555 +03:00 [INF] Hosting environment: Development
2021-05-22 20:25:46.555 +03:00 [INF] Content root path: C:\app
2021-05-22 20:25:53.937 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:25:53.968 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:25:53.989 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:25:53.994 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:25:54.028 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:25:54.079 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 20:25:58.029 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60a93ea50b14905c0d25cea6"), "ManufacturerName" : "string", "Model" : "string", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "EndProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("000000000000000000000000"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: A write operation resulted in an error.
  E11000 duplicate key error collection: VehicleSparePartsDb.Vehicles index: ManufacturerName_1_Model_1_Generation_1_StartProductionYear_1_VehicleTechSpecification.Engine.Name_1_VehicleTechSpecification.Engine.EngineCapacity_1_VehicleTechSpecification.Engine.HorsePowers_1_VehicleTechSpecification.Engine.Petrol_1_VehicleTechSpecification.GearBox.Name_1_VehicleTechSpecification.GearBox.GearBoxType_1_VehicleTechSpecification.GearBox.GearsCount_1 dup key: { ManufacturerName: "string", Model: "string", Generation: 0, StartProductionYear: new Date(1621703087624), VehicleTechSpecification.Engine.Name: null, VehicleTechSpecification.Engine.EngineCapacity: null, VehicleTechSpecification.Engine.HorsePowers: null, VehicleTechSpecification.Engine.Petrol: null, VehicleTechSpecification.GearBox.Name: null, VehicleTechSpecification.GearBox.GearBoxType: null, VehicleTechSpecification.GearBox.GearsCount: null }
2021-05-22 20:25:58.036 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-22 20:25:58.044 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 4012.0289ms
2021-05-22 20:25:58.047 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:25:58.056 +03:00 [INF] Request finished in 4120.9523ms 400 text/plain; charset=utf-8
2021-05-22 20:26:28.575 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:26:30.150 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:26:30.267 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:26:30.386 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:26:30.387 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:26:30.387 +03:00 [INF] Hosting environment: Development
2021-05-22 20:26:30.388 +03:00 [INF] Content root path: C:\app
2021-05-22 20:26:37.046 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:26:37.078 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:26:37.102 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:26:37.107 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:26:37.142 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:26:37.191 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-22 20:26:44.926 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60a93ed4a6058118058dee6e"), "ManufacturerName" : "string", "Model" : "string", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "EndProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("000000000000000000000000"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: A write operation resulted in an error.
  E11000 duplicate key error collection: VehicleSparePartsDb.Vehicles index: ManufacturerName_1_Model_1_Generation_1_StartProductionYear_1_VehicleTechSpecification.Engine.Name_1_VehicleTechSpecification.Engine.EngineCapacity_1_VehicleTechSpecification.Engine.HorsePowers_1_VehicleTechSpecification.Engine.Petrol_1_VehicleTechSpecification.GearBox.Name_1_VehicleTechSpecification.GearBox.GearBoxType_1_VehicleTechSpecification.GearBox.GearsCount_1 dup key: { ManufacturerName: "string", Model: "string", Generation: 0, StartProductionYear: new Date(1621703087624), VehicleTechSpecification.Engine.Name: null, VehicleTechSpecification.Engine.EngineCapacity: null, VehicleTechSpecification.Engine.HorsePowers: null, VehicleTechSpecification.Engine.Petrol: null, VehicleTechSpecification.GearBox.Name: null, VehicleTechSpecification.GearBox.GearBoxType: null, VehicleTechSpecification.GearBox.GearsCount: null }
2021-05-22 20:26:44.934 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-22 20:26:44.942 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 7795.7802ms
2021-05-22 20:26:44.945 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:26:44.952 +03:00 [INF] Request finished in 7908.6662ms 400 text/plain; charset=utf-8
2021-05-22 20:27:23.759 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:27:25.341 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:27:25.503 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:27:25.649 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:27:25.651 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:27:25.652 +03:00 [INF] Hosting environment: Development
2021-05-22 20:27:25.652 +03:00 [INF] Content root path: C:\app
2021-05-22 20:27:54.618 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:27:54.659 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:27:54.680 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:27:54.686 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:27:54.721 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:27:54.773 +03:00 [INF] Sending CreateVehicleCommand with parameters string model1 0
2021-05-22 20:27:59.511 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-22 20:27:59.519 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 4793.6269ms
2021-05-22 20:27:59.522 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:27:59.529 +03:00 [INF] Request finished in 4913.9705ms 201 text/plain; charset=utf-8
2021-05-22 20:28:19.184 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:28:20.768 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:28:20.887 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:28:21.010 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:28:21.012 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:28:21.012 +03:00 [INF] Hosting environment: Development
2021-05-22 20:28:21.013 +03:00 [INF] Content root path: C:\app
2021-05-22 20:28:34.684 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:28:34.713 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:28:34.733 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:28:34.739 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:28:34.771 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:28:34.816 +03:00 [INF] Sending CreateVehicleCommand with parameters string model1 0
2021-05-22 20:28:39.209 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60a93f47f20c271cc20982eb"), "ManufacturerName" : "string", "Model" : "model1", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "EndProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("000000000000000000000000"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: A write operation resulted in an error.
  E11000 duplicate key error collection: VehicleSparePartsDb.Vehicles index: ManufacturerName_1_Model_1_Generation_1_StartProductionYear_1_VehicleTechSpecification.Engine.Name_1_VehicleTechSpecification.Engine.EngineCapacity_1_VehicleTechSpecification.Engine.HorsePowers_1_VehicleTechSpecification.Engine.Petrol_1_VehicleTechSpecification.GearBox.Name_1_VehicleTechSpecification.GearBox.GearBoxType_1_VehicleTechSpecification.GearBox.GearsCount_1 dup key: { ManufacturerName: "string", Model: "model1", Generation: 0, StartProductionYear: new Date(1621703087624), VehicleTechSpecification.Engine.Name: null, VehicleTechSpecification.Engine.EngineCapacity: null, VehicleTechSpecification.Engine.HorsePowers: null, VehicleTechSpecification.Engine.Petrol: null, VehicleTechSpecification.GearBox.Name: null, VehicleTechSpecification.GearBox.GearBoxType: null, VehicleTechSpecification.GearBox.GearsCount: null }
2021-05-22 20:28:39.216 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-22 20:28:39.224 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 4448.2283ms
2021-05-22 20:28:39.227 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:28:39.234 +03:00 [INF] Request finished in 4552.6483ms 400 text/plain; charset=utf-8
2021-05-22 20:31:21.796 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-22 20:31:24.207 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-22 20:31:35.556 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-22 20:31:55.773 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-22 20:31:56.226 +03:00 [INF] Now listening on: http://[::]:80
2021-05-22 20:31:56.228 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-22 20:31:56.229 +03:00 [INF] Hosting environment: Development
2021-05-22 20:31:56.229 +03:00 [INF] Content root path: C:\app
2021-05-22 20:32:11.768 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-22 20:32:11.819 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-22 20:32:11.844 +03:00 [INF] No CORS policy found for the specified request.
2021-05-22 20:32:11.849 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:32:11.886 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-22 20:32:11.946 +03:00 [INF] Sending CreateVehicleCommand with parameters string model1 0
2021-05-22 20:32:17.988 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60a94021c736c1022bbaa0fc"), "ManufacturerName" : "string", "Model" : "model1", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "EndProductionYear" : ISODate("2021-05-22T17:04:47.624Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("000000000000000000000000"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: A write operation resulted in an error.
  E11000 duplicate key error collection: VehicleSparePartsDb.Vehicles index: ManufacturerName_1_Model_1_Generation_1_StartProductionYear_1_VehicleTechSpecification.Engine.Name_1_VehicleTechSpecification.Engine.EngineCapacity_1_VehicleTechSpecification.Engine.HorsePowers_1_VehicleTechSpecification.Engine.Petrol_1_VehicleTechSpecification.GearBox.Name_1_VehicleTechSpecification.GearBox.GearBoxType_1_VehicleTechSpecification.GearBox.GearsCount_1 dup key: { ManufacturerName: "string", Model: "model1", Generation: 0, StartProductionYear: new Date(1621703087624), VehicleTechSpecification.Engine.Name: null, VehicleTechSpecification.Engine.EngineCapacity: null, VehicleTechSpecification.Engine.HorsePowers: null, VehicleTechSpecification.Engine.Petrol: null, VehicleTechSpecification.GearBox.Name: null, VehicleTechSpecification.GearBox.GearBoxType: null, VehicleTechSpecification.GearBox.GearsCount: null }
2021-05-22 20:32:17.998 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-22 20:32:18.009 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 6116.99ms
2021-05-22 20:32:18.012 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-22 20:32:18.022 +03:00 [INF] Request finished in 6256.7402ms 400 text/plain; charset=utf-8
2021-05-23 12:17:36.967 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 12:17:43.833 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 12:17:59.397 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-23 12:18:21.033 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 12:18:21.641 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 12:18:21.643 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 12:18:21.644 +03:00 [INF] Hosting environment: Development
2021-05-23 12:18:21.644 +03:00 [INF] Content root path: C:\app
2021-05-23 12:18:22.101 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-23 12:18:22.462 +03:00 [INF] Request finished in 363.5199ms 200 text/html;charset=utf-8
2021-05-23 12:18:22.783 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-23 12:18:22.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-23 12:18:22.891 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-23 12:18:22.892 +03:00 [INF] Request finished in 95.3432ms 200 image/png
2021-05-23 12:18:22.932 +03:00 [INF] Request finished in 148.8933ms 200 application/json;charset=utf-8
2021-05-23 12:23:17.248 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:23:17.256 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 12:23:17.281 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:23:17.287 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:23:17.468 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:23:17.644 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:23:51.784 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-23 12:23:51.791 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 34316.8034ms
2021-05-23 12:23:51.794 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:23:51.796 +03:00 [INF] Request finished in 34548.3875ms 201 text/plain; charset=utf-8
2021-05-23 12:24:10.001 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:24:10.006 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:24:10.007 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:24:10.008 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:24:10.010 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:24:15.486 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60aa1f3e051249602fb66dce"), "ManufacturerName" : "string", "Model" : "string", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-05-23T09:23:15.68Z"), "EndProductionYear" : ISODate("2021-05-23T09:23:15.68Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("000000000000000000000000"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: A write operation resulted in an error.
  E11000 duplicate key error collection: VehicleSparePartsDb.Vehicles index: ManufacturerName_1_Model_1_Generation_1_StartProductionYear_1_VehicleTechSpecification.Engine.Name_1_VehicleTechSpecification.Engine.EngineCapacity_1_VehicleTechSpecification.Engine.HorsePowers_1_VehicleTechSpecification.Engine.Petrol_1_VehicleTechSpecification.GearBox.Name_1_VehicleTechSpecification.GearBox.GearBoxType_1_VehicleTechSpecification.GearBox.GearsCount_1 dup key: { ManufacturerName: "string", Model: "string", Generation: 0, StartProductionYear: new Date(1621761795680), VehicleTechSpecification.Engine.Name: null, VehicleTechSpecification.Engine.EngineCapacity: null, VehicleTechSpecification.Engine.HorsePowers: null, VehicleTechSpecification.Engine.Petrol: null, VehicleTechSpecification.GearBox.Name: null, VehicleTechSpecification.GearBox.GearBoxType: null, VehicleTechSpecification.GearBox.GearsCount: null }
2021-05-23 12:24:15.487 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-23 12:24:15.489 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 5480.2698ms
2021-05-23 12:24:15.489 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:24:15.490 +03:00 [INF] Request finished in 5490.0356ms 400 text/plain; charset=utf-8
2021-05-23 12:25:20.836 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:25:20.839 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:25:20.841 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:25:20.842 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:25:20.845 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:25:56.355 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 35512.2997ms
2021-05-23 12:25:56.356 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:25:56.358 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand,System.String]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while activating SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand+CreateVehicleCommandHandler -> SpareParts.Persistence.SparePartsContext.SparePartsDbContext.
 ---> Autofac.Core.DependencyResolutionException: An exception was thrown while invoking the constructor 'Void .ctor(MongoDB.Driver.IMongoClient)' on type 'SparePartsDbContext'.
 ---> System.TimeoutException: A timeout occurred after 30000ms selecting a server using CompositeServerSelector{ Selectors = MongoDB.Driver.MongoClient+AreSessionsSupportedServerSelector, LatencyLimitingServerSelector{ AllowedLatencyRange = 00:00:00.0150000 } }. Client view of cluster state is { ClusterId : "1", Type : "Standalone", State : "Disconnected", Servers : [{ ServerId: "{ ClusterId : 1, EndPoint : "Unspecified/spareparts.apidata:27017" }", EndPoint: "Unspecified/spareparts.apidata:27017", ReasonChanged: "Heartbeat", State: "Disconnected", ServerVersion: , TopologyVersion: , Type: "Unknown", HeartbeatException: "MongoDB.Driver.MongoConnectionException: An exception occurred while opening a connection to the server.
 ---> System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. 172.26.243.1:27017
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw(Exception source)
   at System.Net.Sockets.Socket.EndConnect(IAsyncResult asyncResult)
   at System.Net.Sockets.Socket.<>c.<ConnectAsync>b__274_0(IAsyncResult iar)
--- End of stack trace from previous location where exception was thrown ---
   at MongoDB.Driver.Core.Connections.TcpStreamFactory.ConnectAsync(Socket socket, EndPoint endPoint, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.TcpStreamFactory.CreateStreamAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MongoDB.Driver.Core.Connections.BinaryConnection.OpenHelperAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.ServerMonitor.InitializeConnectionAsync(CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Servers.ServerMonitor.HeartbeatAsync(CancellationToken cancellationToken)", LastHeartbeatTimestamp: "2021-05-23T09:25:51.6948399Z", LastUpdateTimestamp: "2021-05-23T09:25:51.6948427Z" }] }.
   at MongoDB.Driver.Core.Clusters.Cluster.ThrowTimeoutException(IServerSelector selector, ClusterDescription description)
   at MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChangedHelper.HandleCompletedTask(Task completedTask)
   at MongoDB.Driver.Core.Clusters.Cluster.WaitForDescriptionChanged(IServerSelector selector, ClusterDescription description, Task descriptionChangedTask, TimeSpan timeout, CancellationToken cancellationToken)
   at MongoDB.Driver.Core.Clusters.Cluster.SelectServer(IServerSelector selector, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.AreSessionsSupportedAfterServerSelection(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.AreSessionsSupported(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoClient.StartImplicitSession(CancellationToken cancellationToken)
   at MongoDB.Driver.OperationExecutor.StartImplicitSession(CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.UsingImplicitSession[TResult](Func`2 func, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoCollectionImpl`1.MongoIndexManager.CreateMany(IEnumerable`1 models, CreateManyIndexesOptions options, CancellationToken cancellationToken)
   at MongoDB.Driver.MongoIndexManagerBase`1.CreateOne(CreateIndexModel`1 model, CreateOneIndexOptions options, CancellationToken cancellationToken)
   at SpareParts.Persistence.SparePartsContext.SparePartsDbContext.ConfigureVehiclesCollection() in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\SparePartsContext\SparePartsDbContext.cs:line 56
   at SpareParts.Persistence.SparePartsContext.SparePartsDbContext..ctor(IMongoClient mongoClient) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Infrastructure\SpareParts.Persistence\SparePartsContext\SparePartsDbContext.cs:line 21
   at lambda_method(Closure , Object[] )
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   --- End of inner exception stack trace ---
   at Autofac.Core.Activators.Reflection.BoundConstructor.Instantiate()
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.<ConfigurePipeline>b__11_0(ResolveRequestContext ctxt, Action`1 next)
   at Autofac.Core.Resolving.Middleware.DelegateMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.DisposalTrackingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.Middleware.ActivatorErrorHandlingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.RegistrationPipelineInvokeMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.SharingMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.Middleware.CircularDependencyDetectorMiddleware.Execute(ResolveRequestContext context, Action`1 next)
   at Autofac.Core.Resolving.Pipeline.ResolvePipelineBuilder.<>c__DisplayClass14_0.<BuildPipeline>b__1(ResolveRequestContext ctxt)
   at Autofac.Core.Pipeline.ResolvePipeline.Invoke(ResolveRequestContext ctxt)
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.ExecuteOperation(ResolveRequest request)
   at Autofac.Core.Resolving.ResolveOperation.Execute(ResolveRequest request)
   at Autofac.Core.Lifetime.LifetimeScope.ResolveComponent(ResolveRequest request)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.ResolveOptional(IComponentContext context, Type serviceType)
   at Autofac.Extensions.DependencyInjection.AutofacServiceProvider.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-23 12:25:56.452 +03:00 [INF] Request finished in 35616.5025ms 500 text/plain
2021-05-23 12:26:21.104 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:26:21.106 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:26:21.107 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:26:21.108 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:26:21.110 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:27:29.329 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 12:27:31.272 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 12:27:31.378 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 12:27:31.506 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 12:27:31.507 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 12:27:31.508 +03:00 [INF] Hosting environment: Development
2021-05-23 12:27:31.508 +03:00 [INF] Content root path: C:\app
2021-05-23 12:27:56.056 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:27:56.092 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 12:27:56.115 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:27:56.120 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:27:56.154 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:27:56.201 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:30:48.542 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 12:30:50.590 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 12:30:59.877 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-23 12:31:28.888 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-23 12:31:49.037 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 12:31:49.489 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 12:31:49.491 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 12:31:49.491 +03:00 [INF] Hosting environment: Development
2021-05-23 12:31:49.491 +03:00 [INF] Content root path: C:\app
2021-05-23 12:31:51.424 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:31:51.460 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 12:31:51.488 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:31:51.494 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:31:51.531 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:31:51.592 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:43:58.241 +03:00 [WRN] RabbitMQ connection is on shutdown. Trying to reconnect
2021-05-23 12:43:58.242 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 12:43:58.259 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 12:44:02.794 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60aa23e10c499ae103792901"), "ManufacturerName" : "string", "Model" : "string", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-05-23T09:23:15.68Z"), "EndProductionYear" : ISODate("2021-05-23T09:23:15.68Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("000000000000000000000000"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: A write operation resulted in an error.
  E11000 duplicate key error collection: VehicleSparePartsDb.Vehicles index: ManufacturerName_1_Model_1_Generation_1_StartProductionYear_1_VehicleTechSpecification.Engine.Name_1_VehicleTechSpecification.Engine.EngineCapacity_1_VehicleTechSpecification.Engine.HorsePowers_1_VehicleTechSpecification.Engine.Petrol_1_VehicleTechSpecification.GearBox.Name_1_VehicleTechSpecification.GearBox.GearBoxType_1_VehicleTechSpecification.GearBox.GearsCount_1 dup key: { ManufacturerName: "string", Model: "string", Generation: 0, StartProductionYear: new Date(1621761795680), VehicleTechSpecification.Engine.Name: null, VehicleTechSpecification.Engine.EngineCapacity: null, VehicleTechSpecification.Engine.HorsePowers: null, VehicleTechSpecification.Engine.Petrol: null, VehicleTechSpecification.GearBox.Name: null, VehicleTechSpecification.GearBox.GearBoxType: null, VehicleTechSpecification.GearBox.GearsCount: null }
2021-05-23 12:44:02.802 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-23 12:44:02.810 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 731274.6066ms
2021-05-23 12:44:02.812 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:44:02.819 +03:00 [INF] Request finished in 731398.6573ms 400 text/plain; charset=utf-8
2021-05-23 12:44:44.747 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 12:44:46.489 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 12:44:46.598 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 12:44:46.730 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 12:44:46.731 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 12:44:46.732 +03:00 [INF] Hosting environment: Development
2021-05-23 12:44:46.732 +03:00 [INF] Content root path: C:\app
2021-05-23 12:45:04.852 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:45:04.889 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 12:45:04.911 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:45:04.916 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:45:04.952 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:45:05.019 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:56:51.551 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 12:56:53.481 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 12:56:53.628 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 12:56:53.767 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 12:56:53.768 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 12:56:53.769 +03:00 [INF] Hosting environment: Development
2021-05-23 12:56:53.769 +03:00 [INF] Content root path: C:\app
2021-05-23 12:57:25.233 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:57:25.273 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 12:57:25.297 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:57:25.301 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:57:25.339 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:57:25.392 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:58:22.396 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 12:58:24.441 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 12:58:24.619 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 12:58:24.762 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 12:58:24.764 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 12:58:24.765 +03:00 [INF] Hosting environment: Development
2021-05-23 12:58:24.766 +03:00 [INF] Content root path: C:\app
2021-05-23 12:59:05.155 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 12:59:05.191 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 12:59:05.212 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 12:59:05.217 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:59:05.251 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 12:59:05.297 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 12:59:24.566 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 19310.6465ms
2021-05-23 12:59:24.569 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 12:59:24.572 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'AsyncCursor`1'.
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.ThrowIfDisposed()
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.MoveNext(CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.GetFirstBatch[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.Any[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 58
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-23 12:59:24.672 +03:00 [INF] Request finished in 19519.7274ms 500 text/plain
2021-05-23 13:00:04.784 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 13:00:04.788 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 13:00:04.789 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 13:00:04.790 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 13:00:04.794 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 13:01:53.844 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 109053.0225ms
2021-05-23 13:01:53.845 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 13:01:53.846 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'AsyncCursor`1'.
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.ThrowIfDisposed()
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.MoveNext(CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.GetFirstBatch[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.Any[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 58
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-23 13:01:53.853 +03:00 [INF] Request finished in 109068.7317ms 500 text/plain
2021-05-23 13:02:38.393 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 13:02:38.396 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 13:02:38.398 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 13:02:38.400 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 13:02:38.403 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 13:02:42.581 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 4180.3544ms
2021-05-23 13:02:42.582 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 13:02:42.584 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'AsyncCursor`1'.
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.ThrowIfDisposed()
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.MoveNext(CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.GetFirstBatch[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.Any[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 58
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-23 13:02:42.590 +03:00 [INF] Request finished in 4197.4168ms 500 text/plain
2021-05-23 13:03:02.197 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 13:03:02.199 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 13:03:02.200 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 13:03:02.202 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 13:03:02.206 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 13:03:07.431 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 5227.5076ms
2021-05-23 13:03:07.432 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 13:03:07.433 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'AsyncCursor`1'.
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.ThrowIfDisposed()
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.MoveNext(CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.GetFirstBatch[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.Any[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 58
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-23 13:03:07.438 +03:00 [INF] Request finished in 5241.3465ms 500 text/plain
2021-05-23 13:14:49.537 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 13:14:51.982 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 13:14:52.147 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 13:14:52.287 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 13:14:52.289 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 13:14:52.290 +03:00 [INF] Hosting environment: Development
2021-05-23 13:14:52.290 +03:00 [INF] Content root path: C:\app
2021-05-23 13:15:13.784 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 13:15:13.825 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 13:15:13.849 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 13:15:13.855 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 13:15:13.895 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 13:15:13.941 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 19:25:19.242 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 19:25:23.949 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 19:25:24.210 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 19:25:24.859 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 19:25:24.860 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 19:25:24.861 +03:00 [INF] Hosting environment: Development
2021-05-23 19:25:24.861 +03:00 [INF] Content root path: C:\app
2021-05-23 19:32:42.113 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-23 19:32:42.317 +03:00 [INF] Request finished in 206.5718ms 200 text/html;charset=utf-8
2021-05-23 19:32:42.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-23 19:32:42.881 +03:00 [INF] Request finished in 119.3838ms 200 application/json;charset=utf-8
2021-05-23 19:32:43.035 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-23 19:32:43.150 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-23 19:32:43.150 +03:00 [INF] Request finished in 115.0833ms 200 image/png
2021-05-23 19:32:51.985 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 900
2021-05-23 19:32:51.993 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 19:32:52.023 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 19:32:52.028 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 19:32:52.067 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 19:32:52.109 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-23 19:33:11.918 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-23 19:33:11.924 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 19852.0908ms
2021-05-23 19:33:11.926 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 19:33:11.929 +03:00 [INF] Request finished in 19943.9626ms 400 text/plain; charset=utf-8
2021-05-23 19:39:07.140 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-23 19:39:08.709 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-23 19:39:08.885 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-23 19:39:09.101 +03:00 [INF] Now listening on: http://[::]:80
2021-05-23 19:39:09.103 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-23 19:39:09.103 +03:00 [INF] Hosting environment: Development
2021-05-23 19:39:09.103 +03:00 [INF] Content root path: C:\app
2021-05-23 19:41:29.909 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 898
2021-05-23 19:41:29.948 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-23 19:41:29.975 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 19:41:29.980 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 19:41:30.016 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 19:41:30.069 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-05-23 19:41:30.080 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 59.2342ms
2021-05-23 19:41:30.083 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 19:41:30.089 +03:00 [INF] Request finished in 182.7966ms 400 application/problem+json; charset=utf-8
2021-05-23 19:41:46.216 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 899
2021-05-23 19:41:46.221 +03:00 [INF] No CORS policy found for the specified request.
2021-05-23 19:41:46.222 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 19:41:46.223 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-23 19:41:46.247 +03:00 [INF] Sending CreateVehicleCommand with parameters test string 0
2021-05-23 19:41:53.352 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 7128.5895ms
2021-05-23 19:41:53.353 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-23 19:41:53.356 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Standalone servers do not support transactions.
   at MongoDB.Driver.Core.Bindings.CoreSession.EnsureTransactionsAreSupported()
   at MongoDB.Driver.Core.Bindings.CoreSession.EnsureStartTransactionCanBeCalled()
   at MongoDB.Driver.Core.Bindings.CoreSession.StartTransaction(TransactionOptions transactionOptions)
   at MongoDB.Driver.Core.Bindings.WrappingCoreSession.StartTransaction(TransactionOptions transactionOptions)
   at MongoDB.Driver.Core.Bindings.WrappingCoreSession.StartTransaction(TransactionOptions transactionOptions)
   at MongoDB.Driver.ClientSessionHandle.StartTransaction(TransactionOptions transactionOptions)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 66
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-05-23 19:41:53.585 +03:00 [INF] Request finished in 7369.6422ms 500 text/plain
2021-05-30 22:33:44.566 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-05-30 22:33:49.458 +03:00 [INF] Rabbit MQ is trying to connect
2021-05-30 22:33:59.335 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-30 22:34:27.338 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-05-30 22:34:47.488 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-05-30 22:34:48.796 +03:00 [INF] Now listening on: http://[::]:80
2021-05-30 22:34:48.798 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-05-30 22:34:48.799 +03:00 [INF] Hosting environment: Development
2021-05-30 22:34:48.800 +03:00 [INF] Content root path: C:\app
2021-05-30 22:35:12.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/  
2021-05-30 22:35:12.748 +03:00 [INF] Request finished in 240.5158ms 301 
2021-05-30 22:35:12.794 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-05-30 22:35:13.063 +03:00 [INF] Request finished in 269.4086ms 200 text/html;charset=utf-8
2021-05-30 22:35:13.124 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui.css  
2021-05-30 22:35:13.132 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-bundle.js  
2021-05-30 22:35:13.132 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-standalone-preset.js  
2021-05-30 22:35:13.613 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-05-30 22:35:13.617 +03:00 [INF] Request finished in 492.051ms 200 text/css
2021-05-30 22:35:13.752 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-05-30 22:35:13.753 +03:00 [INF] Request finished in 620.787ms 200 application/javascript
2021-05-30 22:35:13.916 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-05-30 22:35:13.916 +03:00 [INF] Request finished in 784.3648ms 200 application/javascript
2021-05-30 22:35:14.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-05-30 22:35:14.269 +03:00 [INF] Request finished in 198.5733ms 200 application/json;charset=utf-8
2021-05-30 22:35:14.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-05-30 22:35:14.274 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-05-30 22:35:14.276 +03:00 [INF] Request finished in 5.6756ms 200 image/png
2021-05-30 22:35:36.959 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 907
2021-05-30 22:35:36.970 +03:00 [WRN] Failed to determine the https port for redirect.
2021-05-30 22:35:37.011 +03:00 [INF] No CORS policy found for the specified request.
2021-05-30 22:35:37.016 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-30 22:35:37.080 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-05-30 22:35:37.130 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-05-30 22:35:53.110 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-05-30 22:35:53.118 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 16031.4908ms
2021-05-30 22:35:53.121 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-05-30 22:35:53.122 +03:00 [INF] Request finished in 16163.1004ms 201 text/plain; charset=utf-8
2021-06-05 21:41:25.568 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-06-05 21:41:32.431 +03:00 [INF] Rabbit MQ is trying to connect
2021-06-05 21:46:57.879 +03:00 [WRN] Rabbit couldn`t connect after 20 None of the specified endpoints were reachable
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.TimeoutException: The operation has timed out.
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection()
   at EventBusRabbitMQ.RabbitMQPersistentConnection.<TryConnect>b__10_2() in C:\Users\realp\source\repos\CarCompare\src\EventBus\EventBusRabbitMQ\RabbitMQPersistentConnection.cs:line 77
   at Polly.Policy.<>c__DisplayClass108_0.<Execute>b__0(Context ctx, CancellationToken ct)
   at Polly.Policy.<>c__DisplayClass138_0.<Implementation>b__0(Context ctx, CancellationToken token)
   at Polly.Retry.RetryEngine.Implementation[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Action`4 onRetry, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider)
2021-06-05 21:47:18.646 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-06-05 21:47:19.493 +03:00 [INF] Now listening on: http://[::]:80
2021-06-05 21:47:19.495 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-05 21:47:19.495 +03:00 [INF] Hosting environment: Development
2021-06-05 21:47:19.496 +03:00 [INF] Content root path: C:\app
2021-06-05 21:47:19.995 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/index.html  
2021-06-05 21:47:20.243 +03:00 [INF] Request finished in 250.4672ms 200 text/html;charset=utf-8
2021-06-05 21:47:20.274 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-standalone-preset.js  
2021-06-05 21:47:20.274 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui-bundle.js  
2021-06-05 21:47:20.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger-ui.css  
2021-06-05 21:47:20.390 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-06-05 21:47:20.391 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-06-05 21:47:20.394 +03:00 [INF] Request finished in 106.1729ms 200 text/css
2021-06-05 21:47:20.394 +03:00 [INF] Request finished in 120.6444ms 200 application/javascript
2021-06-05 21:47:20.405 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-06-05 21:47:20.405 +03:00 [INF] Request finished in 131.4029ms 200 application/javascript
2021-06-05 21:47:20.586 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/swagger/v1/swagger.json  
2021-06-05 21:47:20.691 +03:00 [INF] Request finished in 104.4592ms 200 application/json;charset=utf-8
2021-06-05 21:47:20.772 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:82/favicon-32x32.png  
2021-06-05 21:47:20.772 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-06-05 21:47:20.773 +03:00 [INF] Request finished in 1.4087ms 200 image/png
2021-06-05 21:47:54.070 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 21:47:54.076 +03:00 [WRN] Failed to determine the https port for redirect.
2021-06-05 21:47:54.102 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 21:47:54.107 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 21:47:54.156 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 21:47:54.195 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 21:47:55.722 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 1561.4364ms
2021-06-05 21:47:55.725 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 21:47:55.727 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'AsyncCursor`1'.
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.ThrowIfDisposed()
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.MoveNext(CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.GetFirstBatch[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.FirstOrDefault[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 60
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-05 21:47:55.810 +03:00 [INF] Request finished in 1740.3651ms 500 text/plain
2021-06-05 21:48:23.839 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 21:48:23.844 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 21:48:23.845 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 21:48:23.846 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 21:48:23.849 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 21:48:40.622 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 16775.38ms
2021-06-05 21:48:40.623 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 21:48:40.624 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'AsyncCursor`1'.
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.ThrowIfDisposed()
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.MoveNext(CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.GetFirstBatch[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.FirstOrDefault[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 60
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-05 21:48:40.628 +03:00 [INF] Request finished in 16789.2205ms 500 text/plain
2021-06-05 21:49:13.901 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 21:49:13.904 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 21:49:13.906 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 21:49:13.907 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 21:49:13.911 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 21:49:16.058 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 2149.5386ms
2021-06-05 21:49:16.058 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 21:49:16.060 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a disposed object.
Object name: 'AsyncCursor`1'.
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.ThrowIfDisposed()
   at MongoDB.Driver.Core.Operations.AsyncCursor`1.MoveNext(CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.GetFirstBatch[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at MongoDB.Driver.IAsyncCursorExtensions.FirstOrDefault[TDocument](IAsyncCursor`1 cursor, CancellationToken cancellationToken)
   at SpareParts.Application.Features.SparePartsFeatues.Commands.CreateVehicleCommand.CreateVehicleCommandHandler.Handle(CreateVehicleCommand request, CancellationToken cancellationToken) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Domain\SpareParts.Application\Features\SparePartsFeatues\Commands\CreateVehicleCommand.cs:line 60
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at SpareParts.Api.Controllers.VehiclesController.CreateVehicle(VehicleDTO vehicleDTO) in C:\Users\realp\source\repos\CarCompare\src\Services\SpareParts\Web\SpareParts.Api\Controllers\VehiclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-06-05 21:49:16.066 +03:00 [INF] Request finished in 2165.2444ms 500 text/plain
2021-06-05 21:49:32.553 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 21:49:32.555 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 21:49:32.556 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 21:49:32.557 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 21:49:32.561 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 22:09:32.291 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-06-05 22:09:33.920 +03:00 [INF] Rabbit MQ is trying to connect
2021-06-05 22:09:34.058 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-06-05 22:09:34.238 +03:00 [INF] Now listening on: http://[::]:80
2021-06-05 22:09:34.240 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-05 22:09:34.241 +03:00 [INF] Hosting environment: Development
2021-06-05 22:09:34.241 +03:00 [INF] Content root path: C:\app
2021-06-05 22:10:00.706 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 22:10:00.743 +03:00 [WRN] Failed to determine the https port for redirect.
2021-06-05 22:10:00.766 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 22:10:00.775 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 22:10:00.811 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 22:10:00.860 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 22:10:34.941 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-06-05 22:10:34.949 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 34132.5042ms
2021-06-05 22:10:34.952 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 22:10:34.960 +03:00 [INF] Request finished in 34257.5024ms 201 text/plain; charset=utf-8
2021-06-05 22:31:21.001 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-06-05 22:31:22.647 +03:00 [INF] Rabbit MQ is trying to connect
2021-06-05 22:31:22.823 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-06-05 22:31:22.966 +03:00 [INF] Now listening on: http://[::]:80
2021-06-05 22:31:22.968 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-05 22:31:22.968 +03:00 [INF] Hosting environment: Development
2021-06-05 22:31:22.969 +03:00 [INF] Content root path: C:\app
2021-06-05 22:31:39.614 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 22:31:39.645 +03:00 [WRN] Failed to determine the https port for redirect.
2021-06-05 22:31:39.667 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 22:31:39.672 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 22:31:39.705 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 22:31:39.751 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 22:31:41.037 +03:00 [INF] Can`t write to db vehicle: { "_id" : ObjectId("60bbd11cea51be0df9eac3a8"), "ManufacturerName" : "string", "Model" : "string", "VehicleType" : 0, "Generation" : 0, "StartProductionYear" : ISODate("2021-06-05T18:47:50.803Z"), "EndProductionYear" : ISODate("2021-06-05T18:47:50.803Z"), "VehicleTechSpecifications" : [{ "_id" : ObjectId("60bbd11cea51be0df9eac3a9"), "Engine" : { "_id" : ObjectId("000000000000000000000000"), "Name" : "string", "EngineCapacity" : 0.0, "HorsePowers" : 0, "Petrol" : "string" }, "GearBox" : { "_id" : ObjectId("60bbd11cea51be0df9eac3aa"), "Name" : "string", "GearBoxType" : "string", "GearsCount" : 0 }, "AdditionalCharacteristics" : { "additionalProp1" : "string", "additionalProp2" : "string", "additionalProp3" : "string" }, "SpareParts" : [], "LastSparePartsPricesUpdateDate" : ISODate("0001-01-01T00:00:00Z") }] } Exception: A write operation resulted in an error.
  E11000 duplicate key error collection: VehicleSparePartsDb.Vehicles index: ManufacturerName_1_Model_1_Generation_1_StartProductionYear_1_VehicleTechSpecification.Engine.Name_1_VehicleTechSpecification.Engine.EngineCapacity_1_VehicleTechSpecification.Engine.HorsePowers_1_VehicleTechSpecification.Engine.Petrol_1_VehicleTechSpecification.GearBox.Name_1_VehicleTechSpecification.GearBox.GearBoxType_1_VehicleTechSpecification.GearBox.GearsCount_1 dup key: { ManufacturerName: "string", Model: "string", Generation: 0, StartProductionYear: new Date(1622918870803), VehicleTechSpecification.Engine.Name: null, VehicleTechSpecification.Engine.EngineCapacity: null, VehicleTechSpecification.Engine.HorsePowers: null, VehicleTechSpecification.Engine.Petrol: null, VehicleTechSpecification.GearBox.Name: null, VehicleTechSpecification.GearBox.GearBoxType: null, VehicleTechSpecification.GearBox.GearsCount: null }
2021-06-05 22:31:49.916 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-06-05 22:31:49.928 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 10217.4075ms
2021-06-05 22:31:49.931 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 22:31:49.938 +03:00 [INF] Request finished in 10326.6427ms 400 text/plain; charset=utf-8
2021-06-05 22:32:40.862 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 22:32:40.865 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 22:32:40.867 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 22:32:40.868 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 22:32:40.870 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 22:33:18.995 +03:00 [INF] ------------------SpareParts.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null STARTED--------------
2021-06-05 22:33:20.797 +03:00 [INF] Rabbit MQ is trying to connect
2021-06-05 22:33:20.955 +03:00 [INF] RabbitMQ persistent connections to rabbitmq
2021-06-05 22:33:21.080 +03:00 [INF] Now listening on: http://[::]:80
2021-06-05 22:33:21.082 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-06-05 22:33:21.083 +03:00 [INF] Hosting environment: Development
2021-06-05 22:33:21.083 +03:00 [INF] Content root path: C:\app
2021-06-05 22:33:28.813 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:82/Vehicles application/json 914
2021-06-05 22:33:28.842 +03:00 [WRN] Failed to determine the https port for redirect.
2021-06-05 22:33:28.864 +03:00 [INF] No CORS policy found for the specified request.
2021-06-05 22:33:28.872 +03:00 [INF] Executing endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 22:33:28.905 +03:00 [INF] Route matched with {action = "CreateVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVehicle(SpareParts.Application.DTO.VehicleDTO) on controller SpareParts.Api.Controllers.VehiclesController (SpareParts.Api).
2021-06-05 22:33:28.951 +03:00 [INF] Sending CreateVehicleCommand with parameters string string 0
2021-06-05 22:33:45.729 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-06-05 22:33:45.737 +03:00 [INF] Executed action SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api) in 16827.9368ms
2021-06-05 22:33:45.741 +03:00 [INF] Executed endpoint 'SpareParts.Api.Controllers.VehiclesController.CreateVehicle (SpareParts.Api)'
2021-06-05 22:33:45.748 +03:00 [INF] Request finished in 16937.6016ms 201 text/plain; charset=utf-8
